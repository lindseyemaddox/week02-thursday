var ScrollSpy=new Class({Implements:[Options,Events],options:{min:0,mode:"vertical",max:0,container:window,onEnter:$empty,onLeave:$empty,onTick:$empty},initialize:function(t){if(this.setOptions(t),this.container=$(this.options.container),this.enters=this.leaves=0,this.max=this.options.max,0==this.max){var i=this.container.getScrollSize();this.max="vertical"==this.options.mode?i.y:i.x}this.addListener()},addListener:function(){this.inside=!1,this.container.addEvent("scroll",function(){var t=this.container.getScroll(),i="vertical"==this.options.mode?t.y:t.x;i>=this.options.min&&i<=this.max?(this.inside||(this.inside=!0,this.enters++,this.fireEvent("enter",[t,this.enters])),this.fireEvent("tick",[t,this.inside,this.enters,this.leaves])):this.inside&&(this.inside=!1,this.leaves++,this.fireEvent("leave",[t,this.leaves]))}.bind(this))}});window.addEvent("domready",function(){new SmoothScroll({duration:500}),$("gototop").set("opacity","0").setStyle("display","block");var t=new ScrollSpy({min:200,onEnter:function(t,i){console&&console.log("Entered ["+i+"] at: "+t.x+" / "+t.y),$("gototop").fade("in")},onLeave:function(t,i){console&&console.log("Left ["+i+"] at: "+t.x+" / "+t.y),$("gototop").fade("out")},onTick:function(t,i,e,n){console&&console.log("Tick  ["+e+", "+n+"] at: "+t.x+" / "+t.y)},container:window})});